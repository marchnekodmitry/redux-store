{"version":3,"sources":["components/shop-header/index.js","components/shop-header/shop-header.js","components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/bookstore-service-context/bookstore-service-context.js","components/hoc/with-bookstore-service.js","actions/index.js","utils/compose.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/book-list/book-list.js","components/book-list/index.js","components/shopping-cart-table/index.js","components/shopping-cart-table/shopping-cart-table.js","components/pages/home-page.js","components/pages/cart-page.js","components/app/index.js","components/app/app.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/bookstore-service.js","reducers/index.js","store.js","index.js"],"names":["ShopHeader","connect","_ref2","numItems","totalPrice","orderTotal","_ref","react_default","a","createElement","className","react_router_dom","to","index_es","icon","faShoppingCart","BookListItem","book","onAddedToCart","title","author","image","price","src","alt","href","onClick","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreService","Wrapped","props","bookstoreService","Object","assign","fetchBooks","dispatch","type","getBooks","then","data","payload","catch","error","booksError","bookAddedToCart","bookId","compose","_len","arguments","length","funcs","Array","_key","component","reduceRight","wrapped","f","Spinner","role","aria-hidden","ErrorIndicator","BookList","books","map","key","id","components_book_list_item","BookListContainer","this","_this$props","loading","components_spinner","components_error_indicator","book_list_BookList","Component","_ref3","ShoppingCartTable","items","cartItems","total","onIncrease","onDecrease","bookRemovedFromCart","onDelete","allBooksRemovedFromCart","item","idx","count","faTrash","faPlusCircle","faMinusCircle","HomePage","Fragment","components_shop_header","components_book_list","components_shopping_cart_table","CartPage","App","react_router","path","process","exact","ErrorBoundry","state","hasError","errorInfo","setState","children","BookstoreService","_this","Promise","resolve","reject","setTimeout","Math","random","Error","initialState","updateNumItems","reduce","changeOrder","action","quantity","find","itemIndex","findIndex","newItem","undefined","_item$id","_item$count","_item$title","_item$total","updateCartItem","newCartItems","concat","toConsumableArray","slice","updateCartItems","objectSpread","sum","reducer","store","createStore","ReactDOM","render","es","error_boundry","value","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.374faac1.chunk.js","sourcesContent":["import ShopHeader from './shop-header';\r\n\r\nexport default ShopHeader;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faShoppingCart } from '@fortawesome/free-solid-svg-icons';\r\nimport { Link } from 'react-router-dom';\r\nimport './shop-header.css';\r\n\r\nconst ShopHeader = ({ numItems, totalPrice }) => {\r\n  return (\r\n    <header className='shop-header'>\r\n      <div className='shop-header-wrapper'>\r\n        <Link to='/'>\r\n          <h1>Redux Store</h1>\r\n        </Link>\r\n        <Link to='/cart'>\r\n          <span className='shop-header-info'>\r\n            <FontAwesomeIcon className='shop-header-cart-icon' icon={faShoppingCart}/>\r\n            {numItems} items (${totalPrice})\r\n          </span>\r\n        </Link>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ numItems, orderTotal }) => {\r\n  return {\r\n    numItems,\r\n    totalPrice: orderTotal\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps)(ShopHeader);","import BookListItem from './book-list-item';\r\n\r\nexport default BookListItem;","import React from 'react';\r\n\r\nimport './book-list-item.css'\r\n\r\nconst BookListItem = ({ book, onAddedToCart }) => {\r\n\r\n  const { title, author, image, price } = book;\r\n\r\n  return (\r\n    <div className='book-list-item'>\r\n      <div className='book-image-wrapper'>\r\n        <img className='book-image' src={image} alt='book'/>\r\n      </div>\r\n      <div className='book-info'>\r\n        <a className='book-title' href='#'>{title}</a>\r\n        <div className='book-author'>{author}</div>\r\n        <div className='book-price'>{price}$</div>\r\n        <button\r\n            onClick={onAddedToCart}\r\n            className='btn btn-info book-button'\r\n        >\r\n          Add to cart\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default BookListItem;","import React from 'react';\r\n\r\nconst {\r\n  Provider: BookstoreServiceProvider,\r\n  Consumer: BookstoreServiceConsumer\r\n} = React.createContext();\r\n\r\nexport { BookstoreServiceProvider, BookstoreServiceConsumer };","import React from 'react';\r\nimport { BookstoreServiceConsumer } from '../bookstore-service-context';\r\n\r\nconst withBookstoreService = () => (Wrapped) => {\r\n\r\n  return (props) => {\r\n    return (\r\n      <BookstoreServiceConsumer>\r\n        {\r\n          (bookstoreService) => {\r\n            return (\r\n              <Wrapped {...props}\r\n                       bookstoreService={bookstoreService}\r\n              />\r\n            )\r\n          }\r\n        }\r\n      </BookstoreServiceConsumer>\r\n    )\r\n  }\r\n};\r\n\r\nexport default withBookstoreService;","const booksRequested = () => {\r\n  return {\r\n    type: 'FETCH_BOOKS_REQUEST'\r\n  }\r\n};\r\n\r\nconst booksLoaded = (newBooks) => {\r\n  return {\r\n    type: 'FETCH_BOOKS_SUCCESS',\r\n    payload: newBooks\r\n  }\r\n};\r\n\r\nconst booksError = (error) => {\r\n  return {\r\n    type: 'FETCH_BOOKS_FAILURE',\r\n    payload: error\r\n  }\r\n};\r\n\r\nconst fetchBooks = (bookstoreService, dispatch) => () => {\r\n  dispatch(booksRequested());\r\n  bookstoreService.getBooks()\r\n      .then((data) => dispatch(booksLoaded(data)))\r\n      .catch((error) => dispatch(booksError(error)));\r\n};\r\n\r\nconst bookAddedToCart = (bookId) => {\r\n  return {\r\n    type: 'BOOK_ADDED_TO_CART',\r\n    payload: bookId\r\n  }\r\n};\r\n\r\nconst bookRemovedFromCart = (id) => {\r\n  return {\r\n    type: 'BOOK_REMOVED_FROM_CART',\r\n    payload: id\r\n  }\r\n};\r\n\r\nconst allBooksRemovedFromCart= (id) => {\r\n  return {\r\n    type: 'ALL_BOOKS_REMOVED_FROM_CART',\r\n    payload: id\r\n  }\r\n};\r\n\r\nexport {\r\n  fetchBooks,\r\n  bookAddedToCart,\r\n  bookRemovedFromCart,\r\n  allBooksRemovedFromCart\r\n}","const compose = (...funcs) => (component) => {\r\n  return funcs.reduceRight((wrapped, f) => f(wrapped), component);\r\n};\r\n\r\nexport default compose;","import Spinner from './spinner';\r\n\r\nexport default Spinner;","import React from 'react';\r\nimport './spinner.css';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n      <div className=\"d-flex align-items-center\">\r\n        <strong>Loading...</strong>\r\n        <div className=\"spinner-border ml-auto spinner\" role=\"status\" aria-hidden=\"true\" />\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;","import ErrorIndicator from './error-indicator';\r\n\r\nexport default ErrorIndicator;","import React from 'react';\r\nimport './error-indicator.css';\r\n\r\nconst ErrorIndicator = () => {\r\n  return <div className='error-indicator'>Error. Something bad happened</div>\r\n};\r\n\r\nexport default ErrorIndicator;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport BookListItem from '../book-list-item';\r\nimport { withBookstoreService } from '../hoc';\r\nimport { fetchBooks, bookAddedToCart } from '../../actions';\r\nimport { compose } from '../../utils';\r\nimport Spinner from \"../spinner\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\nimport './book-list.css';\r\n\r\nconst BookList = ({ books, onAddedToCart }) => {\r\n  return (\r\n      <ul className='book-list'>\r\n        {\r\n          books.map((book) => {\r\n            return (\r\n                <li key={book.id}>\r\n                  <BookListItem\r\n                      onAddedToCart={() => onAddedToCart(book.id)}\r\n                      book={book}\r\n                  />\r\n                </li>\r\n            )\r\n          })\r\n        }\r\n      </ul>\r\n  );\r\n};\r\n\r\nclass BookListContainer extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.fetchBooks();\r\n  }\r\n\r\n  render() {\r\n    const { books, loading, error, onAddedToCart } = this.props;\r\n\r\n    if (loading) {\r\n      return <Spinner />\r\n    }\r\n\r\n    if (error) {\r\n      return <ErrorIndicator />\r\n    }\r\n\r\n    return (\r\n      <BookList\r\n        onAddedToCart={onAddedToCart}\r\n        books={books}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ books, loading, error }) => {\r\n  return { books, loading, error }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, { bookstoreService }) => {\r\n  return {\r\n    fetchBooks: fetchBooks(bookstoreService, dispatch),\r\n    onAddedToCart: (bookId) => dispatch(bookAddedToCart(bookId))\r\n  }\r\n};\r\n\r\nexport default compose(\r\n  withBookstoreService(),\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(BookListContainer);","import BookList from './book-list';\r\n\r\nexport default BookList;","import ShoppingCartTable from './shopping-cart-table';\r\n\r\nexport default ShoppingCartTable;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bookAddedToCart, bookRemovedFromCart, allBooksRemovedFromCart } from '../../actions';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\r\nimport { faPlusCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { faMinusCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport './shopping-cart-table.css';\r\n\r\nconst ShoppingCartTable = ({ items, total, onIncrease, onDecrease, onDelete }) => {\r\n  const renderRow = (item, idx) => {\r\n    const { id, title, count, total } = item;\r\n    return (\r\n        <tr key={id}>\r\n          <td>{idx + 1}</td>\r\n          <td>{title}</td>\r\n          <td>{count}</td>\r\n          <td>{total}$</td>\r\n          <td className='table-buttons'>\r\n            <button\r\n                onClick={() => onDelete(id)}\r\n                className='btn btn-outline-danger btn-sm'>\r\n              <FontAwesomeIcon icon={faTrash}/>\r\n            </button>\r\n            <button\r\n                onClick={() => onIncrease(id)}\r\n                className='btn btn-outline-success btn-sm'>\r\n              <FontAwesomeIcon icon={faPlusCircle}/>\r\n            </button>\r\n            <button\r\n                onClick={() => onDecrease(id)}\r\n                className='btn btn-outline-warning btn-sm'>\r\n              <FontAwesomeIcon icon={faMinusCircle}/>\r\n            </button>\r\n          </td>\r\n        </tr>\r\n    );\r\n  };\r\n\r\n  return (\r\n      <div className='shopping-cart-table'>\r\n        <h2>Your Order</h2>\r\n        <table className='table'>\r\n          <thead>\r\n            <tr>\r\n              <th>#</th>\r\n              <th>Item</th>\r\n              <th>Count</th>\r\n              <th>Price</th>\r\n              <th className='table-buttons-header'>Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n          {\r\n            items.map(renderRow)\r\n          }\r\n          </tbody>\r\n        </table>\r\n\r\n        <div className='total'>\r\n          Total: {total}$\r\n        </div>\r\n      </div>\r\n  )\r\n};\r\n\r\nconst mapStateToProps = ({ cartItems, orderTotal }) => {\r\n  return {\r\n    items: cartItems,\r\n    total: orderTotal\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onIncrease: (id) => dispatch(bookAddedToCart(id)),\r\n    onDecrease: (id) => dispatch(bookRemovedFromCart(id)),\r\n    onDelete: (id) => dispatch(allBooksRemovedFromCart(id))\r\n  }\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(ShoppingCartTable);","import React from 'react';\r\n\r\nimport ShopHeader from '../shop-header';\r\nimport BookList from '../book-list';\r\nimport ShoppingCartTable from '../shopping-cart-table';\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <ShopHeader />\r\n      <BookList />\r\n      <ShoppingCartTable />\r\n    </React.Fragment>\r\n  )\r\n};\r\n\r\nexport default HomePage;","import React from 'react';\r\n\r\nimport ShopHeader from '../shop-header';\r\nimport ShoppingCartTable from '../shopping-cart-table';\r\n\r\nconst CartPage = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <ShopHeader />\r\n      <ShoppingCartTable />\r\n    </React.Fragment>\r\n  )\r\n};\r\n\r\nexport default CartPage;","import App from './app';\r\n\r\nexport default App;","import React from 'react';\r\nimport { Switch, Route} from 'react-router-dom';\r\nimport './app.css';\r\n\r\nimport HomePage from '../pages/home-page';\r\nimport CartPage from '../pages/cart-page';\r\n\r\nconst App = () => {\r\n  return (\r\n    <Switch>\r\n      <Route\r\n        path={process.env.PUBLIC_URL + '/'}\r\n        component={HomePage}\r\n        exact\r\n      />\r\n      <Route\r\n          path={process.env.PUBLIC_URL + '/cart'}\r\n          component={CartPage}\r\n      />\r\n    </Switch>\r\n  )\r\n};\r\n\r\nexport default App;","import ErrorBoundry from './error-boundry';\r\n\r\nexport default ErrorBoundry;","import React, { Component } from 'react';\r\n\r\nimport ErrorIndicator from '../error-indicator'\r\n\r\nexport default class ErrorBoundry extends Component {\r\n\r\n  state = {\r\n    hasError: false\r\n  };\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    this.setState({\r\n      hasError: true\r\n    })\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <ErrorIndicator />;\r\n    }\r\n    \r\n    return this.props.children;\r\n  }\r\n\r\n}","export default class BookstoreService {\r\n\r\n  data = [\r\n    {\r\n      id: 1,\r\n      title: 'Learning JavaScript',\r\n      author: 'Ethan Brown',\r\n      price: 32,\r\n      image: 'img/image-1.jpg'\r\n    },\r\n    {\r\n      id: 2,\r\n      title: 'JavaScript: The Good Parts',\r\n      author: 'Douglas Crockford',\r\n      price: 32,\r\n      image: 'img/image-2.jpg'\r\n    }\r\n  ];\r\n\r\n  getBooks() {\r\n    return new Promise((resolve, reject) => {\r\n      setTimeout(() => {\r\n        if (Math.random() > 0.25) {\r\n          resolve(this.data);\r\n        }\r\n        else {\r\n          reject(new Error('Something bad happened'));\r\n        }\r\n      }, 700);\r\n    });\r\n  }\r\n}","\r\nconst initialState = {\r\n  books: [],\r\n  loading: true,\r\n  error: null,\r\n  cartItems: [],\r\n  numItems: 0,\r\n  orderTotal: 0\r\n};\r\n\r\nconst updateOrderTotal = (cartItems) => {\r\n  return cartItems.reduce((sum, item) => sum + item.total, 0);\r\n};\r\n\r\nconst updateNumItems = (cartItems) => {\r\n  return cartItems.reduce((count, item) => count + item.count, 0);\r\n};\r\n\r\nconst updateCartItems = (cartItems, item, idx) => {\r\n  if (item.count === 0) {\r\n    return [\r\n      ...cartItems.slice(0, idx),\r\n      ...cartItems.slice(idx + 1)\r\n    ]\r\n  }\r\n\r\n  if (idx === -1) {\r\n    return [\r\n        ...cartItems,\r\n        item\r\n    ];\r\n  }\r\n\r\n  return [\r\n    ...cartItems.slice(0, idx),\r\n    item,\r\n    ...cartItems.slice(idx + 1)\r\n  ]\r\n};\r\n\r\nconst updateCartItem = (book, item = {}, quantity) => {\r\n  const {\r\n    id = book.id,\r\n    count = 0,\r\n    title = book.title,\r\n    total = 0\r\n  } = item;\r\n\r\n  return {\r\n    id,\r\n    count: count + quantity,\r\n    title,\r\n    total: total + book.price * quantity\r\n  };\r\n};\r\n\r\nconst changeOrder = (state, action, quantity) => {\r\n  const bookId = action.payload;\r\n  const book = state.books.find((book) => book.id === bookId);\r\n  const itemIndex = state.cartItems.findIndex((item) => item.id === bookId);\r\n  const item = state.cartItems[itemIndex];\r\n  const newItem = updateCartItem(book, item, quantity);\r\n  const newCartItems = updateCartItems(state.cartItems, newItem, itemIndex);\r\n  return {\r\n    ...state,\r\n    orderTotal: updateOrderTotal(newCartItems),\r\n    cartItems: newCartItems,\r\n    numItems: updateNumItems(newCartItems)\r\n  };\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_BOOKS_REQUEST':\r\n      return {\r\n        ...state,\r\n        books: [],\r\n        loading: true,\r\n        error: null\r\n      };\r\n    case 'FETCH_BOOKS_SUCCESS':\r\n      return {\r\n        ...state,\r\n        books: action.payload,\r\n        loading: false,\r\n        error: null\r\n      };\r\n    case 'FETCH_BOOKS_FAILURE':\r\n      return {\r\n        ...state,\r\n        books: [],\r\n        loading: false,\r\n        error: action.payload\r\n      };\r\n    case 'BOOK_ADDED_TO_CART':\r\n      return changeOrder(state, action, 1);\r\n    case 'BOOK_REMOVED_FROM_CART':\r\n      return changeOrder(state, action, -1);\r\n    case 'ALL_BOOKS_REMOVED_FROM_CART':\r\n      const item = state.cartItems.find((item) => item.id === action.payload);\r\n      return changeOrder(state, action, -item.count);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;","import { createStore } from 'redux';\r\n\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport App from './components/app';\nimport ErrorBoundry from './components/error-boundry';\nimport BookstoreService from './services/bookstore-service';\nimport { BookstoreServiceProvider } from './components/bookstore-service-context';\n\nimport store from './store';\n\nconst bookstoreService = new BookstoreService();\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <BookstoreServiceProvider value={bookstoreService}>\n        <Router>\n          <App />\n        </Router>\n      </BookstoreServiceProvider>\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}